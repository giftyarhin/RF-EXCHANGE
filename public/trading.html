<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Trading - RFEX</title>
  <link rel="stylesheet" href="assets/css/styles.css">
  <link rel="stylesheet" href="assets/css/dashboard.css">
  <!-- TradingView Library -->
  <script src="https://s3.tradingview.com/tv.js"></script>
</head>
<body class="dashboard-page">
  <header class="dashboard-header">
    <div class="header-inner">
      <a class="brand" href="dashboard.html">RFEX</a>
      <button class="nav-toggle" onclick="toggleDashboardNav()" aria-label="Toggle navigation">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>
      <nav class="main-nav">
        <a href="dashboard.html">Dashboard</a>
        <a href="markets.html">Markets</a>
        <a href="trading.html" class="active">Trade</a>
        <a href="wallets.html">Wallets</a>
        <a href="p2p.html">P2P</a>
        <a href="gift-cards.html">Gift Cards</a>
      </nav>
      <div class="header-actions">
        <button class="notification-btn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
            <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
          </svg>
        </button>
        <div class="user-menu">
          <button class="user-btn">
            <div class="user-avatar">JD</div>
            <span>John Doe</span>
          </button>
        </div>
      </div>
    </div>
  </header>

  <main class="dashboard-main">
    <div class="container" style="max-width: 1600px;">
      <div class="page-header">
        <h1>ðŸ“ˆ Spot Trading</h1>
        <p class="page-subtitle">Professional trading interface with real-time charts and advanced tools</p>
      </div>

      <!-- Trading Pair Selector -->
      <div style="background: rgba(30, 41, 59, 0.6); padding: 16px; border-radius: 12px; margin-bottom: 20px; border: 1px solid rgba(255, 255, 255, 0.1); display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 16px;">
        <div style="display: flex; align-items: center; gap: 16px;">
          <div>
            <div id="currentPair" style="font-size: 1.5rem; font-weight: 700; color: #F1F5F9;">BTC/USDT</div>
            <div id="pairDescription" style="font-size: 0.85rem; color: #94A3B8;">Bitcoin / Tether</div>
          </div>
          <div style="border-left: 1px solid rgba(255, 255, 255, 0.1); padding-left: 16px;">
            <div id="currentPrice" style="font-size: 1.3rem; font-weight: 700; color: #10b981;">Loading...</div>
            <div id="priceChange" style="font-size: 0.9rem; color: #10b981;">--</div>
          </div>
        </div>
        <div style="display: flex; gap: 12px; flex-wrap: wrap;">
          <div>
            <div style="font-size: 0.75rem; color: #94A3B8;">24h High</div>
            <div id="high24h" style="font-weight: 600;">--</div>
          </div>
          <div>
            <div style="font-size: 0.75rem; color: #94A3B8;">24h Low</div>
            <div id="low24h" style="font-weight: 600;">--</div>
          </div>
          <div>
            <div style="font-size: 0.75rem; color: #94A3B8;">24h Volume (BTC)</div>
            <div id="volume24h" style="font-weight: 600;">--</div>
          </div>
          <div>
            <div style="font-size: 0.75rem; color: #94A3B8;">24h Volume (USDT)</div>
            <div id="quoteVolume24h" style="font-weight: 600;">--</div>
          </div>
        </div>
      </div>

      <!-- Trading Interface -->
      <div style="display: grid; grid-template-columns: 1fr 350px; gap: 20px;">
        
        <!-- Left Side: Chart & Order Book -->
        <div>
          <!-- TradingView Chart -->
          <div id="tradingview_chart" style="background: #1E293B; border-radius: 12px; margin-bottom: 20px; border: 1px solid rgba(255, 255, 255, 0.1); height: 600px; min-height: 500px;">
            <!-- TradingView widget will be rendered here -->
          </div>

          <!-- Order Book & Recent Trades -->
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <!-- Order Book -->
            <div style="background: rgba(30, 41, 59, 0.6); padding: 16px; border-radius: 12px; border: 1px solid rgba(255, 255, 255, 0.1);">
              <h3 style="margin: 0 0 16px 0; font-size: 1rem;">Order Book</h3>
              <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; font-size: 0.75rem; color: #94A3B8; padding-bottom: 8px; border-bottom: 1px solid rgba(255, 255, 255, 0.05);">
                <div>Price (USDT)</div>
                <div style="text-align: right;">Amount (BTC)</div>
                <div style="text-align: right;">Total</div>
              </div>
              <!-- Sell Orders (Red) -->
              <div style="margin: 8px 0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; font-size: 0.85rem; padding: 4px 0; color: #ef4444;">
                  <div>42,158.50</div>
                  <div style="text-align: right;">0.0234</div>
                  <div style="text-align: right; color: #94A3B8;">986.91</div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; font-size: 0.85rem; padding: 4px 0; color: #ef4444;">
                  <div>42,157.00</div>
                  <div style="text-align: right;">0.1523</div>
                  <div style="text-align: right; color: #94A3B8;">6,420.52</div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; font-size: 0.85rem; padding: 4px 0; color: #ef4444;">
                  <div>42,156.50</div>
                  <div style="text-align: right;">0.4567</div>
                  <div style="text-align: right; color: #94A3B8;">19,252.84</div>
                </div>
              </div>
              <!-- Current Price -->
              <div style="text-align: center; padding: 8px; background: rgba(16, 185, 129, 0.1); border-radius: 6px; margin: 8px 0; font-weight: 700; color: #10b981;">
                42,150.50 â†‘
              </div>
              <!-- Buy Orders (Green) -->
              <div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; font-size: 0.85rem; padding: 4px 0; color: #10b981;">
                  <div>42,149.50</div>
                  <div style="text-align: right;">0.2134</div>
                  <div style="text-align: right; color: #94A3B8;">8,994.72</div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; font-size: 0.85rem; padding: 4px 0; color: #10b981;">
                  <div>42,148.00</div>
                  <div style="text-align: right;">0.8945</div>
                  <div style="text-align: right; color: #94A3B8;">37,701.46</div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; font-size: 0.85rem; padding: 4px 0; color: #10b981;">
                  <div>42,147.50</div>
                  <div style="text-align: right;">1.2345</div>
                  <div style="text-align: right; color: #94A3B8;">52,021.03</div>
                </div>
              </div>
            </div>

            <!-- Recent Trades -->
            <div style="background: rgba(30, 41, 59, 0.6); padding: 16px; border-radius: 12px; border: 1px solid rgba(255, 255, 255, 0.1);">
              <h3 style="margin: 0 0 16px 0; font-size: 1rem;">Recent Trades</h3>
              <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; font-size: 0.75rem; color: #94A3B8; padding-bottom: 8px; border-bottom: 1px solid rgba(255, 255, 255, 0.05);">
                <div>Price (USDT)</div>
                <div style="text-align: right;">Amount (BTC)</div>
                <div style="text-align: right;">Time</div>
              </div>
              <div style="margin-top: 8px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; font-size: 0.85rem; padding: 4px 0; color: #10b981;">
                  <div>42,150.50</div>
                  <div style="text-align: right;">0.0234</div>
                  <div style="text-align: right; color: #94A3B8;">21:45:32</div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; font-size: 0.85rem; padding: 4px 0; color: #ef4444;">
                  <div>42,149.00</div>
                  <div style="text-align: right;">0.1523</div>
                  <div style="text-align: right; color: #94A3B8;">21:45:28</div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; font-size: 0.85rem; padding: 4px 0; color: #10b981;">
                  <div>42,150.00</div>
                  <div style="text-align: right;">0.4567</div>
                  <div style="text-align: right; color: #94A3B8;">21:45:24</div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; font-size: 0.85rem; padding: 4px 0; color: #10b981;">
                  <div>42,151.50</div>
                  <div style="text-align: right;">0.2134</div>
                  <div style="text-align: right; color: #94A3B8;">21:45:19</div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; font-size: 0.85rem; padding: 4px 0; color: #ef4444;">
                  <div>42,148.00</div>
                  <div style="text-align: right;">0.8945</div>
                  <div style="text-align: right; color: #94A3B8;">21:45:15</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Right Side: Trading Panel -->
        <div>
          <!-- Buy/Sell Tabs -->
          <div style="background: rgba(30, 41, 59, 0.6); padding: 20px; border-radius: 12px; border: 1px solid rgba(255, 255, 255, 0.1);">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 20px;">
              <button id="buyTab" onclick="switchOrderType('buy')" style="padding: 12px; background: rgba(16, 185, 129, 0.2); border: 1px solid rgba(16, 185, 129, 0.5); border-radius: 8px; color: #10b981; font-weight: 700; cursor: pointer;">Buy</button>
              <button id="sellTab" onclick="switchOrderType('sell')" style="padding: 12px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; color: #F1F5F9; font-weight: 700; cursor: pointer;">Sell</button>
            </div>

            <!-- Order Type -->
            <div style="display: flex; gap: 8px; margin-bottom: 16px;">
              <button style="padding: 8px 16px; background: rgba(255, 183, 3, 0.2); border: 1px solid rgba(255, 183, 3, 0.5); border-radius: 6px; color: #FFB703; font-size: 0.9rem; font-weight: 600; cursor: pointer;">Limit</button>
              <button style="padding: 8px 16px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: #94A3B8; font-size: 0.9rem; font-weight: 600; cursor: pointer;">Market</button>
              <button style="padding: 8px 16px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: #94A3B8; font-size: 0.9rem; font-weight: 600; cursor: pointer;">Stop-Limit</button>
            </div>

            <!-- Available Balance -->
            <div style="background: rgba(255, 255, 255, 0.03); padding: 12px; border-radius: 8px; margin-bottom: 16px;">
              <div style="font-size: 0.85rem; color: #94A3B8; margin-bottom: 4px;">Available</div>
              <div style="font-weight: 700;">11,234.56 USDT</div>
            </div>

            <!-- Price Input -->
            <div style="margin-bottom: 16px;">
              <label style="display: block; font-size: 0.85rem; color: #94A3B8; margin-bottom: 8px;">Price (USDT)</label>
              <input type="number" value="42150.50" style="width: 100%; padding: 12px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; color: #F1F5F9; font-size: 1rem;">
            </div>

            <!-- Amount Input -->
            <div style="margin-bottom: 16px;">
              <label style="display: block; font-size: 0.85rem; color: #94A3B8; margin-bottom: 8px;">Amount (BTC)</label>
              <input type="number" placeholder="0.00" style="width: 100%; padding: 12px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; color: #F1F5F9; font-size: 1rem;">
              <div style="display: flex; gap: 8px; margin-top: 8px;">
                <button style="flex: 1; padding: 6px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: #94A3B8; font-size: 0.8rem; cursor: pointer;">25%</button>
                <button style="flex: 1; padding: 6px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: #94A3B8; font-size: 0.8rem; cursor: pointer;">50%</button>
                <button style="flex: 1; padding: 6px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: #94A3B8; font-size: 0.8rem; cursor: pointer;">75%</button>
                <button style="flex: 1; padding: 6px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: #94A3B8; font-size: 0.8rem; cursor: pointer;">100%</button>
              </div>
            </div>

            <!-- Total -->
            <div style="margin-bottom: 20px;">
              <label style="display: block; font-size: 0.85rem; color: #94A3B8; margin-bottom: 8px;">Total (USDT)</label>
              <div style="padding: 12px; background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; color: #F1F5F9; font-weight: 600;">0.00</div>
            </div>

            <!-- Buy Button -->
            <button onclick="alert('Order execution coming soon!')" style="width: 100%; padding: 16px; background: linear-gradient(135deg, #10b981, #059669); border: none; border-radius: 10px; color: white; font-weight: 700; font-size: 1.1rem; cursor: pointer; margin-bottom: 12px;">
              Buy BTC
            </button>

            <!-- Account Status -->
            <div style="text-align: center; padding: 12px; background: rgba(255, 183, 3, 0.1); border-radius: 8px; border: 1px solid rgba(255, 183, 3, 0.3);">
              <div style="font-size: 0.85rem; color: #FFB703; font-weight: 600;">âœ“ Connected & Ready to Trade</div>
            </div>
          </div>

          <!-- Open Orders -->
          <div style="background: rgba(30, 41, 59, 0.6); padding: 16px; border-radius: 12px; margin-top: 20px; border: 1px solid rgba(255, 255, 255, 0.1);">
            <h3 style="margin: 0 0 12px 0; font-size: 0.95rem;">Open Orders (0)</h3>
            <div style="text-align: center; padding: 24px; color: #94A3B8; font-size: 0.9rem;">
              No open orders
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <script>
    function switchOrderType(type) {
      const buyTab = document.getElementById('buyTab');
      const sellTab = document.getElementById('sellTab');
      
      if (type === 'buy') {
        buyTab.style.background = 'rgba(16, 185, 129, 0.2)';
        buyTab.style.borderColor = 'rgba(16, 185, 129, 0.5)';
        buyTab.style.color = '#10b981';
        sellTab.style.background = 'rgba(255, 255, 255, 0.05)';
        sellTab.style.borderColor = 'rgba(255, 255, 255, 0.1)';
        sellTab.style.color = '#F1F5F9';
      } else {
        sellTab.style.background = 'rgba(239, 68, 68, 0.2)';
        sellTab.style.borderColor = 'rgba(239, 68, 68, 0.5)';
        sellTab.style.color = '#ef4444';
        buyTab.style.background = 'rgba(255, 255, 255, 0.05)';
        buyTab.style.borderColor = 'rgba(255, 255, 255, 0.1)';
        buyTab.style.color = '#F1F5F9';
      }
    }
  </script>

  <script src="assets/js/trading.js"></script>
  <script src="assets/js/dashboard.js"></script>
</body>
</html>
